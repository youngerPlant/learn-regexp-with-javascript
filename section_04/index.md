# 捕获

圆括号用来实现捕获功能。被捕获的匹配可以被回溯引用。

## 简单的捕获匹配

`(x)` 匹配 `x` 并且可以通过 `$1` 引用到捕获的值。

## 正向肯定查找

`x(?=y)` 匹配 x 当且仅当 x 的后面紧跟着 y 。

## 正向否定查找

`x(?!y)` 匹配 x 当且仅当 x 的后面没有 y 。

## 示例代码

### 示例1：数字格式化

把按照每3位加一个逗号的格式进行格式化。例如 `1000`，格式化后为 `1,000`。

```
'$49000000.00'.replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');

// => "$49,000,000.00"
```

这段正则表达式的意思是，从第一个数字开始，它的后面需要紧跟着一个连续的3的倍数个数字串，这个串的后面没有任何数字。

这段的执行速度是非常快的，连续执行1000次，Chrome 下耗时 4ms：

```
var start = +new Date();
for(var i=0; i<1000; i++){
  '$49540000.00'.replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');
}
var end = +new Date();
console.log(end-start);  // 4
```